plugins {
    id "org.jetbrains.kotlin.jvm" version "1.3.31"
}

allprojects {
    group = "com.github.axelrindle"
    version = "1.3.0"

    repositories {
        mavenCentral()
        maven { url "https://hub.spigotmc.org/nexus/content/repositories/snapshots" }
        maven { url "https://oss.sonatype.org/content/repositories/snapshots" }
    }

    ext {
        kotlin_version = "1.3.31"
        spigot_version = "1.14.2-R0.1-SNAPSHOT"
    }
}

dependencies {
    // Include sub-projects
    compile project(':api')
    compile project(':plugin')
}

jar {
    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }
}

task sourcesJar(type: Jar, dependsOn: classes) {
    classifier = 'sources'
    from sourceSets.main.allSource
}

artifacts {
    archives sourcesJar
}
