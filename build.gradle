plugins {
    id "org.jetbrains.kotlin.jvm" version "1.3.70"
}

allprojects {
    version = "1.3.0"
    group = "de.axelrindle"

    repositories {
        mavenCentral()
        maven { url "https://hub.spigotmc.org/nexus/content/repositories/snapshots" }
        maven { url "https://oss.sonatype.org/content/repositories/snapshots" }
        maven { url 'https://jitpack.io' }
    }

    ext {
        kotlin_version = "1.3.70"
        spigot_version = "1.15.2-R0.1-SNAPSHOT"
    }
}

dependencies {
    // Include sub-projects
    compile project(':api')
    compile project(':plugin')
}

jar {
    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }
}

task sourcesJar(type: Jar, dependsOn: classes) {
    archiveClassifier.set('sources')
    from sourceSets.main.allSource
}

artifacts {
    archives sourcesJar
}
